# 剧情模式 (Story Mode)

## 功能概述

剧情模式是一个类似SillyTavern的小说写作模式，让用户可以与AI角色进行剧情创作，像写小说一样进行对话。

## 主要特性

### 1. 模式切换
- 在聊天界面输入区域添加了剧情模式切换按钮
- 可以在普通聊天模式和剧情模式之间自由切换
- 切换按钮显示当前模式状态（📖剧情 / 💬聊天）

### 2. 剧情模式界面
- **StoryModeDisplay**: 专门的消息显示组件，采用卡片式布局
- 界面设计更加适合长文本创作

### 3. 输入体验优化
- 大尺寸文本输入框，支持多行输入
- 实时字符计数显示
- 自动高度调整
- 专门的"继续"和"AI生成"按钮

### 4. 消息显示优化
- 卡片式消息布局，更适合阅读长文本
- 用户和AI消息使用不同的颜色区分
- 支持消息编辑、删除、引用等操作
- 悬停显示操作按钮

## 组件结构

```
storymode/
├── index.ts                    # 模块导出
├── StoryModeToggle.tsx         # 模式切换按钮
├── StoryModeToggle.css         # 切换按钮样式
├── StoryModeDisplay.tsx        # 剧情模式显示组件
├── StoryModeDisplay.css        # 显示组件样式
└── README.md                   # 说明文档
```

## 样式规范

- 所有CSS类名都以`story-`前缀开头
- 使用渐变背景和现代化设计
- 响应式设计，支持移动端
- 统一的动画和过渡效果

## 使用方法

1. 在聊天界面点击"剧情"按钮切换到剧情模式
2. 在剧情模式下，界面会切换到小说写作风格
3. 可以输入长文本内容，点击"继续"发送
4. 点击"AI生成"让AI继续剧情发展
5. 点击"聊天"按钮可以切换回普通聊天模式

## 技术实现

- 使用React Hooks管理状态
- 复用现有的消息处理逻辑
- 保持与现有聊天功能的兼容性
- 支持所有现有的消息类型和功能

